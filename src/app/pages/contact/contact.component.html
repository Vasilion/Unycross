<section class="contact-hero">
  <div class="container">
    <h1 mat-headline-1 [@fadeInUp]="state">Get in Touch</h1>
    <p mat-body-1 [@fadeInUp]="state">
      Contact us for web hosting, development, or AI solutions.
    </p>
    <!-- <div class="loading">
      <div class="loading-box">
        <div class="WH color l1"></div>
        <div class="ball color"></div>
        <div class="WH color l2"></div>
      </div>
    </div> -->
  </div>
</section>

<section class="contact-form">
  <div class="container">
    <div *ngIf="loading" class="loading-overlay">
      <div class="spinner-container">
        <div class="spinner">
          <div class="spinner">
            <div class="spinner">
              <div class="spinner">
                <div class="spinner">
                  <div class="spinner"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p>Sending your message...</p>
    </div>
    <mat-card class="form-card" [@fadeInUp]="state">
      <mat-card-content>
        <div class="contact-info">
          <div class="info-item">
            <a href="tel:+15172047471" class="info-link">
              <mat-icon>phone</mat-icon>
              <span>517-204-7471</span>
            </a>
          </div>
          <div class="info-item">
            <a href="mailto:unycross@gmail.com" class="info-link">
              <mat-icon>email</mat-icon>
              <span>unycross&#64;gmail.com</span>
            </a>
          </div>
        </div>

        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          <mat-form-field class="full-width">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" required />
            <mat-error
              *ngIf="
                contactForm.get('name')?.hasError('required') &&
                contactForm.get('name')?.touched
              "
            >
              Name is required.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" required type="email" />
            <mat-error
              *ngIf="
                contactForm.get('email')?.hasError('required') &&
                contactForm.get('email')?.touched
              "
            >
              Email is required.
            </mat-error>
            <mat-error
              *ngIf="
                contactForm.get('email')?.hasError('email') &&
                contactForm.get('email')?.touched
              "
            >
              Please enter a valid email.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <mat-label>Phone Number (Optional)</mat-label>
            <input
              matInput
              formControlName="phoneNumber"
              type="tel"
              (input)="onPhoneInput($event)"
            />
            <mat-error
              *ngIf="
                contactForm.get('phoneNumber')?.touched &&
                contactForm.get('phoneNumber')?.hasError('maxlength')
              "
            >
              Phone number must not exceed 10 digits.
            </mat-error>
            <mat-error
              *ngIf="
                contactForm.get('phoneNumber')?.touched &&
                contactForm.get('phoneNumber')?.hasError('pattern')
              "
            >
              Please enter only numbers.
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <mat-label>Message</mat-label>
            <textarea
              matInput
              formControlName="message"
              required
              rows="4"
            ></textarea>
            <mat-error
              *ngIf="
                contactForm.get('message')?.hasError('required') &&
                contactForm.get('message')?.touched
              "
            >
              Message is required.
            </mat-error>
          </mat-form-field>
          <div class="text-center">
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="contactForm.invalid"
            >
              Send Message
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</section>
